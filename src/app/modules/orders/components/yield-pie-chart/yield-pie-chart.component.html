<mat-card class="card">

  <mat-card-title>
    Yield
  </mat-card-title>

  <div id="yieldPieChart"></div>

  <div>
      <table mat-table [dataSource]="graphData">
        <!-- Code Column -->
        <ng-container matColumnDef="rejectCode">
          <th mat-header-cell *matHeaderCellDef> Status </th>
          <td mat-cell *matCellDef="let reject"> {{ reject.rejectCode }} </td>
          <td mat-footer-cell *matFooterCellDef> Batch Total </td>
        </ng-container>
      
        <!-- Count Column -->
        <ng-container matColumnDef="count">
          <th mat-header-cell *matHeaderCellDef> Total </th>
          <td mat-cell *matCellDef="let reject"> {{ reject.count }} </td>
          <td mat-footer-cell *matFooterCellDef> {{ getTotalBatch() }} </td>
        </ng-container>

        <!-- Percentage from Total in Batch Column -->
        <ng-container matColumnDef="percentageBatch">
          <th mat-header-cell *matHeaderCellDef> from Batch % </th>
          <td mat-cell *matCellDef="let reject"> {{ reject.count/total | percent : '1.2-2'}} </td>
          <td mat-footer-cell *matFooterCellDef> {{ 1 | percent }}</td>
        </ng-container>
                
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        <tr mat-footer-row *matFooterRowDef="displayedColumns"></tr>
      </table>
  </div>

</mat-card>